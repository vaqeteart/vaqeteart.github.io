<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.9.0">
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<title>
    Jekyll+github建站实践
</title>

<!--css-->
<!--link rel="stylesheet" href="/style.css" type="text/css" /-->
<link rel="stylesheet" href="/css/partial/head.css">
<link rel="stylesheet" href="/css/partial/header.css">
<link rel="stylesheet" href="/css/partial/archives.css">
<link rel="stylesheet" href="/css/partial/categories.css">
<link rel="stylesheet" href="/css/partial/home-posts.css">
<link rel="stylesheet" href="/css/partial/page-nav.css">
<link rel="stylesheet" href="/css/partial/tags.css">
<link rel="stylesheet" href="/css/partial/about.css">
<link rel="stylesheet" href="/css/partial/more.css">
<link rel="stylesheet" href="/css/partial/footer.css">
<link rel="stylesheet" href="/css/post.css">


<!--javascript-->
<!--script type="text/javascript" src="/script.js"></script-->
<script src="/lib/jquery-1.11.3.min.js"></script>
<script src="/js/common.js"></script>
  </head>
  <body>
    <main class="main">
      <table class="container">
    <tbody>
        <tr>
            <script src="js/nav.js"></script>
<table class="navbar">
	<tbody>
		<tr>
			<th class="navitm">
				<a href="/">主页</a>
			</th>

			<th class="navitm">
				<a href="/categories">分类</a>
				<div id="category_menus" class="second">
					
					<!--合并内部类和自定义类。
    每个分类的数据结构包括：
    id: 分类唯一id
    title: 分类名
    parent: 父分类id
    children:子分类数组
注：
内部类包含一个固定的分类结type="text/javascript"内部根分类设置为categories, title为分类在主题config.yml中有配置（待定）。
后续文章中设置的分类如果不是内部类都会被称作自定义类，可以通过hexo本身引擎检测出来。
最终内部类和自定义类会合并到完整分类(full_categories)中，这样让所有类能用json等通用方式表示，便于移植。

使用举例：
var category_info = getCategoriesInfo();
<x var symbols={}; x> //定义导出变量
<x- include('category_list', {symbols:symbols}) x> //包含该文件
<x var category_info = symbols.getCategoriesInfo(); x> //获取分类信息：包含分类树，以及分类与文章数映射表。
<x- symbols.list_category(category_info.categories, category_info.categories_count) x> //列出分类索引树

注： '<x' 是EJS模板语言的标记比如x为%。
-->

					
					<ul id="full_categories_tree" class="categories_tree categories_level0" type="none"><li id="categories" class="categories_tree_item"><a href="/categories/" class="item_path"><span id="categories_switch" class="tree_switch">▷</span><span id="categories_title" class="item_title">分类</span><span id="categories_count" class="item_count">(47)</span></a><ul id="categories_tree" class="categories_tree categories_level2" type="none"><li id="note" class="categories_tree_item"><a href="/categories/categories/note" class="item_path"><span id="note_switch" class="tree_switch">▷</span><span id="note_title" class="item_title">记事</span><span id="note_count" class="item_count">(5)</span></a><ul id="note_tree" class="categories_tree categories_level3" type="none"><li id="remind" class="categories_tree_item"><a href="/categories/categories/note/remind" class="item_path"><span id="remind_switch" class="tree_switch">○</span><span id="remind_title" class="item_title">备忘</span><span id="remind_count" class="item_count">(0)</span></a></li><li id="plan" class="categories_tree_item"><a href="/categories/categories/note/plan" class="item_path"><span id="plan_switch" class="tree_switch">○</span><span id="plan_title" class="item_title">计划</span><span id="plan_count" class="item_count">(0)</span></a></li>|</ul></li><li id="study" class="categories_tree_item"><a href="/categories/categories/study" class="item_path"><span id="study_switch" class="tree_switch">▷</span><span id="study_title" class="item_title">学习</span><span id="study_count" class="item_count">(2)</span></a><ul id="study_tree" class="categories_tree categories_level3" type="none"><li id="problem" class="categories_tree_item"><a href="/categories/categories/study/problem" class="item_path"><span id="problem_switch" class="tree_switch">○</span><span id="problem_title" class="item_title">问题</span><span id="problem_count" class="item_count">(0)</span></a></li><li id="git" class="categories_tree_item"><a href="/categories/categories/study/git" class="item_path"><span id="git_switch" class="tree_switch">○</span><span id="git_title" class="item_title">git</span><span id="git_count" class="item_count">(1)</span></a></li><li id="os" class="categories_tree_item"><a href="/categories/categories/study/os" class="item_path"><span id="os_switch" class="tree_switch">○</span><span id="os_title" class="item_title">操作系统</span><span id="os_count" class="item_count">(1)</span></a></li><li id="books" class="categories_tree_item"><a href="/categories/categories/study/books" class="item_path"><span id="books_switch" class="tree_switch">▷</span><span id="books_title" class="item_title">books</span><span id="books_count" class="item_count">(0)</span></a><ul id="books_tree" class="categories_tree categories_level4" type="none"><li id="apue" class="categories_tree_item"><a href="/categories/categories/study/books/apue" class="item_path"><span id="apue_switch" class="tree_switch">○</span><span id="apue_title" class="item_title">APUE</span><span id="apue_count" class="item_count">(0)</span></a></li>|</ul></li><li id="linux" class="categories_tree_item"><a href="/categories/categories/study/linux" class="item_path"><span id="linux_switch" class="tree_switch">▷</span><span id="linux_title" class="item_title">linux</span><span id="linux_count" class="item_count">(2)</span></a><ul id="linux_tree" class="categories_tree categories_level4" type="none"><li id="misc" class="categories_tree_item"><a href="/categories/categories/study/linux/misc" class="item_path"><span id="misc_switch" class="tree_switch">○</span><span id="misc_title" class="item_title">杂乱</span><span id="misc_count" class="item_count">(3)</span></a></li><li id="command" class="categories_tree_item"><a href="/categories/categories/study/linux/command" class="item_path"><span id="command_switch" class="tree_switch">○</span><span id="command_title" class="item_title">命令</span><span id="command_count" class="item_count">(10)</span></a></li>|</ul></li><li id="jekyll" class="categories_tree_item"><a href="/categories/categories/study/jekyll" class="item_path"><span id="jekyll_switch" class="tree_switch">○</span><span id="jekyll_title" class="item_title">jekyll</span><span id="jekyll_count" class="item_count">(0)</span></a></li><li id="kits" class="categories_tree_item"><a href="/categories/categories/study/kits" class="item_path"><span id="kits_switch" class="tree_switch">○</span><span id="kits_title" class="item_title">工具</span><span id="kits_count" class="item_count">(1)</span></a></li><li id="emacs" class="categories_tree_item"><a href="/categories/categories/study/emacs" class="item_path"><span id="emacs_switch" class="tree_switch">○</span><span id="emacs_title" class="item_title">emacs</span><span id="emacs_count" class="item_count">(2)</span></a></li><li id="vim" class="categories_tree_item"><a href="/categories/categories/study/vim" class="item_path"><span id="vim_switch" class="tree_switch">○</span><span id="vim_title" class="item_title">vim</span><span id="vim_count" class="item_count">(9)</span></a></li>|</ul></li><li id="work" class="categories_tree_item"><a href="/categories/categories/work" class="item_path"><span id="work_switch" class="tree_switch">▷</span><span id="work_title" class="item_title">工作</span><span id="work_count" class="item_count">(0)</span></a><ul id="work_tree" class="categories_tree categories_level3" type="none"><li id="progress" class="categories_tree_item"><a href="/categories/categories/work/progress" class="item_path"><span id="progress_switch" class="tree_switch">○</span><span id="progress_title" class="item_title">进度</span><span id="progress_count" class="item_count">(0)</span></a></li>|</ul></li><li id="life" class="categories_tree_item"><a href="/categories/categories/life" class="item_path"><span id="life_switch" class="tree_switch">▷</span><span id="life_title" class="item_title">生活</span><span id="life_count" class="item_count">(1)</span></a><ul id="life_tree" class="categories_tree categories_level3" type="none"><li id="experience" class="categories_tree_item"><a href="/categories/categories/life/experience" class="item_path"><span id="experience_switch" class="tree_switch">○</span><span id="experience_title" class="item_title">经验</span><span id="experience_count" class="item_count">(0)</span></a></li><li id="tips" class="categories_tree_item"><a href="/categories/categories/life/tips" class="item_path"><span id="tips_switch" class="tree_switch">○</span><span id="tips_title" class="item_title">技巧</span><span id="tips_count" class="item_count">(0)</span></a></li>|</ul></li><li id="others" class="categories_tree_item"><a href="/categories/categories/others" class="item_path"><span id="others_switch" class="tree_switch">▷</span><span id="others_title" class="item_title">其它</span><span id="others_count" class="item_count">(6)</span></a><ul id="others_tree" class="categories_tree categories_level3" type="none"><li id="rambles" class="categories_tree_item"><a href="/categories/categories/others/rambles" class="item_path"><span id="rambles_switch" class="tree_switch">○</span><span id="rambles_title" class="item_title">随笔</span><span id="rambles_count" class="item_count">(2)</span></a></li><li id="temp" class="categories_tree_item"><a href="/categories/categories/others/temp" class="item_path"><span id="temp_switch" class="tree_switch">○</span><span id="temp_title" class="item_title">临时</span><span id="temp_count" class="item_count">(0)</span></a></li><li id="test" class="categories_tree_item"><a href="/categories/categories/others/test" class="item_path"><span id="test_switch" class="tree_switch">○</span><span id="test_title" class="item_title">测试</span><span id="test_count" class="item_count">(0)</span></a></li>|</ul></li>|</ul></li></ul>
				</div>
			</th>

			<th class="navblank"></th>

			<th class="navitm">
				<a href="/tags">标签</a>
				<div id="tag_menus" class="second">
					<ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/gtd-done/">gtd_done</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gtd-next/">gtd_next</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/others/">others</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/study/">study</a><span class="tag-list-count">10</span></li></ul>
				</div>
			</th>

			<th class="navitm">
				<a href="/archives">归档</a>
			</th>

			<th class="navblank"></th>

			<th class="navitm">
				<a href="/more">更多</a>
			</th>

			<th class="navitm">
				<a href="/about">关于</a>
			</th>

			<th class="navblank" style="width:25%;"></th>

			<th class="navitm" style="margin:0; padding:0;border:none;">
				<form method="get" id="searchform" action="/search.html" style="margin:0;padding:0;height:100%;">
					<span style="color:#00FF00;">Q</span>
					<span style="border-style:solid; border-width:1px; border-color:#00FF00;
		  		border-top:0px; border-left:0px;border-right:0px; 
				margin:0;padding:0;height:100%;">
						<input value="Search by title (canbe regex)..." name="s" class="s" onfocus="if (this.value == 'Search by title (canbe regex)...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search by title (canbe regex)...';}" style="margin:0;padding:0;height:100%;border:none;background: #000000; color:#00A600;" type="text">
					</span>
					<!--input type="submit" value="Q" style="width:20%;"-->
				</form>
			</th>

			<th class="navblank"></th>

			<th class="navblank"></th>

			<a href="#" id="topbtn">⇑</a>

			<a href="#bottom" id="bottombtn">⇓</a>
			<!--⇐⇑⇒⇓-->
		</tr><tr>
	</tr></tbody>
</table>
        </tr>
        <tr>
            <td id="td_page_header" colspan="6" valign="top" align="right" style="width:100%;">
        <header style="text-align: center;">
        <h1>
               <a href="/" title="Menu.Home">
               QuietHeart's Site
               </a>
        </h1>
        </header>
</td>    
        </tr>
        <tr>
            <td id="td_posts" colspan="6" valign="top">
                <article>
                    <h1 id="header1" style="text-align: center;">
                        Jekyll+github建站实践
                    </h1>
                    <hr id="title_line">
                    <div>
                        <p>本文通过实践介绍使用Jekyll+github建立个人站点的过程。<br>假设我们已经申请了一个github账户，账户名称为<code>username</code>。  </p>
<h1 id="创建一个用来建站的仓库"><a href="#创建一个用来建站的仓库" class="headerlink" title="创建一个用来建站的仓库"></a>创建一个用来建站的仓库</h1><ul>
<li><p>仓库名：  </p>
<pre><code>username/username.github.io  </code></pre></li>
<li><p>检出仓库：  </p>
<pre><code>$git clone https://github.com/username/username.github.io  </code></pre><p>  个人主页的网站内容是在master分支下的。  </p>
</li>
<li><p>创建主页：  </p>
<pre><code>$cd username.github.io  
$echo &quot;Hello World&quot; &gt; index.html  
$git add --all  
$git commit -m &quot;Initial commit&quot;  
$git push -u origin master  

注意：第一次push的时候使用`-u origin master`，以后直接用`git push`命令即可。</code></pre></li>
<li><p>访问主页：  </p>
<pre><code>http://username.github.io  </code></pre><p>  至此，个人站点创建完毕，我们可以自己添加html内容来完善自己的站点。<br>  完全手写html代码建立站点的过程过于复杂，下面我们将讲述如何使用Jekyll来创建个人站点。</p>
</li>
</ul>
<h1 id="搭建Jekyll环境"><a href="#搭建Jekyll环境" class="headerlink" title="搭建Jekyll环境"></a>搭建Jekyll环境</h1><p>使用Jekyll可以帮助我们自动生成静态网站，减少建站的负担，使我们将主要精力集中到文章和内容上。<br>github使用的就是Jekyll来生成站点项目的网页，所以这里我们可以在本地先搭建一个和github一样的环境。<br>发布文章之前可以预览效果，确认可以了就能直接push到github。</p>
<ul>
<li><p>安装ruby<br>  过程大致如下:</p>
<pre><code>$wget -c https://cache.ruby-lang.org/pub/ruby/2.2/ruby-2.2.2.tar.gz
$tar -xzvf ruby-2.2.2.tar.gz
$mkdir -p ~/myinstalled
$mv ruby-2.2.2 ~/myinstalled
$cd ~/myinstalled/ruby-2.2.2
$./configure
$make
$sudo make install</code></pre><p>  这里要求ruby大于2.0.0，所以直接从官方下载源代码安装。</p>
</li>
<li><p>安装bundle  </p>
<pre><code>$ sudo gem install bundle
[sudo] password for quietheart:
Fetching: bundler-1.10.6.gem (100%)
Successfully installed bundler-1.10.6
Fetching: bundle-0.0.1.gem (100%)
Successfully installed bundle-0.0.1
Parsing documentation for bundler-1.10.6
Installing ri documentation for bundler-1.10.6
Parsing documentation for bundle-0.0.1
Installing ri documentation for bundle-0.0.1
Done installing documentation for bundler, bundle after 4 seconds
2 gems installed</code></pre><p>  注：  </p>
<ul>
<li><p>此处安装可能会有错误，提示类似如下：  </p>
<pre><code>$gem install bundle
ERROR:  While executing gem ... (Gem::Exception)
Unable to require openssl, install OpenSSL and rebuild ruby (preferred) or use non-HTTPS sources</code></pre></li>
<li><p>如果这样，我们可以查看一下源信息：  </p>
<pre><code>$ gem sources -l
*** CURRENT SOURCES ***

https://rubygems.org/</code></pre></li>
<li><p>然后换一个没有被“墙”的代理，如下尝试：  </p>
<pre><code>$ gem sources --remove https://rubygems.org/
https://rubygems.org/ removed from sources
$ gem sources -a http://ruby.taobao.org/
http://ruby.taobao.org/ added to sources
$ gem sources -l
*** CURRENT SOURCES ***

http://ruby.taobao.org/</code></pre></li>
</ul>
</li>
<li><p>配置<strong><em>Gemfile</em></strong>文件  </p>
<pre><code>$&gt;Gemfile
$vim Gemfile</code></pre><p>  内容如下：</p>
<pre><code>source &apos;http://ruby.taobao.org/&apos;
gem &apos;github-pages&apos;</code></pre></li>
</ul>
<ul>
<li><p>安装jekyll环境<br>  下面根据实际安装时出现的状况，给出两种方式。  </p>
<ul>
<li><p>方式一、利用bundle安装与更新(<strong><em>报错, 待解决</em></strong>)  </p>
<pre><code>$ bundle install
$ bundle update</code></pre><p>  至此，通过bundle方式安装完毕，可以用如下命令启动和转化本地服务:  </p>
<pre><code>$ bundle exec jekyll serve（失败）</code></pre></li>
<li><p>方式二、手动安装：  </p>
<pre><code>$sudo gem update --system
$sudo gem install jekyll
$jekyll --version</code></pre><p>  至此，jekyll安装完毕，通过<code>jekyll --version</code>可以检测安装是否成功。<br>  可能遇到的问题：  </p>
<ul>
<li><p>如果<code>jekyll --version</code>运行失败，安装依赖  </p>
<pre><code>$sudo gem install directory_watcher
$sudo gem install liquid
$sudo gem install open4
$sudo gem install maruku
$sudo gem install classifier
$sudo gem install rdiscount
$sudo gem install rouge
$sudo gem install therubyracer
$sudo gem install execjs
$sudo apt-get install nodejs
$jekyll --version</code></pre></li>
<li><p>如果nodejs安装失败，手动源码安装  </p>
<pre><code>$ sudo apt-get install python
$ sudo apt-get install build-essential
$ sudo apt-get install gcc
$ sudo apt-get install g++
$ wget -c https://nodejs.org/dist/v0.12.7/node-v0.12.7.tar.gz
$ tar -xzvf node-v0.12.7.tar.gz
$ mkdir -p ~/myinstalled
$ mv node-v0.12.7 ~/myinstalled &amp;&amp; cd ~/myinstalled
$./configure
$make
$sudo make install
$node -v
v0.12.7</code></pre></li>
</ul>
</li>
</ul>
</li>
<li><p>使用Jekyll建站  </p>
<ul>
<li><p>建立用户构建站点的文件<br>需要建立的文件不多解释，大致如下：  </p>
<pre><code>$ pwd
/home/quietheart/github/vaqeteart.github.io
$ tree
.
├── assets
├── _config.yml
├── _includes
├── index.html
├── _layouts
│   └── default.html
├── _plugins
├── _posts
│   └── 2015-08-14-first_page.md
├── readme.md</code></pre></li>
<li><p>使用Jekyll生成站点<br>  根据前面建立的文件，生成站点。运行编译如下：  </p>
<pre><code>$ jekyll build
Configuration file: /media/sda6/study/github/vaqeteart.github.io/_config.yml
Source: /media/sda6/study/github/vaqeteart.github.io
Destination: /media/sda6/study/github/vaqeteart.github.io/_site
Generating...
done.
Auto-regeneration: disabled. Use --watch to enable.</code></pre><p>  如果语法错误会有提示。  </p>
</li>
<li><p>运行服务器：  </p>
<pre><code>$ jekyll server
Configuration file: /media/sda6/study/github/vaqeteart.github.io/_config.yml
Source: /media/sda6/study/github/vaqeteart.github.io
Destination: /media/sda6/study/github/vaqeteart.github.io/_site
Generating...
done.
Auto-regeneration: enabled for &apos;/media/sda6/study/github/vaqeteart.github.io&apos;
Configuration file: /media/sda6/study/github/vaqeteart.github.io/_config.yml
Server address: http://127.0.0.1:4000/
Server running... press ctrl-c to stop.
Regenerating: 1 file(s) changed at 2015-08-14 18:56:40 ...done in 0.018106602 seconds.</code></pre><p>  运行之后，可以在浏览器上通过<code>http://127.0.0.1:4000/</code>预览生成的站点。  </p>
</li>
<li><p>注意：</p>
<ul>
<li>如果对于jekyll想知道更多的命令<br>  可以运行<code>jelly --help</code>。  </li>
<li>如果需要每次修改文件jekyll会自动检测到变化并生成对应新页面。<br>  可以直接使用<code>jekyll server -w</code>。这样就不用每次修改文件都运行<code>jekyll build</code>&amp;<code>jekyll server</code>了。  </li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>下面列出一些不错的参考资料：<br><a href="http://www.cnblogs.com/purediy/archive/2013/03/07/2948892.html" target="_blank" rel="noopener">http://www.cnblogs.com/purediy/archive/2013/03/07/2948892.html</a><br><a href="http://blog.csdn.net/on_1y/article/details/19259435" target="_blank" rel="noopener">http://blog.csdn.net/on_1y/article/details/19259435</a><br><a href="https://github.com/minixalpha/minixalpha.github.io" target="_blank" rel="noopener">https://github.com/minixalpha/minixalpha.github.io</a><br><a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html</a><br><a href="http://higrid.net/c-art-blog_jekyll.htm" target="_blank" rel="noopener">http://higrid.net/c-art-blog_jekyll.htm</a><br><a href="http://www.tuicool.com/m/articles/INBnMz" target="_blank" rel="noopener">http://www.tuicool.com/m/articles/INBnMz</a><br><a href="http://higrid.net/c-art-jeklly_template_data.htm" target="_blank" rel="noopener">http://higrid.net/c-art-jeklly_template_data.htm</a><br><a href="http://holbrook.github.io/" target="_blank" rel="noopener">http://holbrook.github.io/</a><br><a href="http://jekyllrb.com/docs/datafiles/" target="_blank" rel="noopener">http://jekyllrb.com/docs/datafiles/</a>  </p>
<p>其它的还有：<br><a href="http://www.pchou.info/web-build/2014/07/04/build-github-blog-page-08.html" target="_blank" rel="noopener">http://www.pchou.info/web-build/2014/07/04/build-github-blog-page-08.html</a><br><a href="https://pages.github.com/" target="_blank" rel="noopener">https://pages.github.com/</a><br><a href="https://help.github.com/articles/using-jekyll-with-pages/" target="_blank" rel="noopener">https://help.github.com/articles/using-jekyll-with-pages/</a><br><a href="http://www.cnblogs.com/netbuddy/p/3501147.html" target="_blank" rel="noopener">http://www.cnblogs.com/netbuddy/p/3501147.html</a><br><a href="http://segmentfault.com/q/1010000000476530" target="_blank" rel="noopener">http://segmentfault.com/q/1010000000476530</a><br><a href="http://www.cnblogs.com/hwpayg/archive/2012/11/04/2753404.html" target="_blank" rel="noopener">http://www.cnblogs.com/hwpayg/archive/2012/11/04/2753404.html</a>  </p>

                    </div>
                </article>                        
                
                <!--{% include duoshuo_comment.ext %}-->
            </td>
        </tr>
        <tr>
            <td id="td_page_footer" colspan="6">
    <footer>
        &copy 2015
    </footer>
    <a id="bottom"></a>
</td>
        </tr>
    </tbody>
</table>
    </main>
  </body>
</html>